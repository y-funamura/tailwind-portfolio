(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[555],{2982:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/Mail",function(){return s(2343)}])},2343:function(e,l,s){"use strict";s.r(l);var n=s(5893),o=s(7294);s(5703);var t=s(3253),r=s.n(t);let a=e=>{let{targetName:l,modalOpen:s,modalName:t,modalClick:a}=e,i=e=>{e?document.body.style.overflow="hidden":document.body.style.overflow="auto"},c=(0,o.useRef)(null),d=(0,o.useRef)(null),u=(0,o.useRef)(null),[m,x]=(0,o.useState)("");(0,o.useEffect)(()=>{x(""),i(s)},[s]);let f=async e=>{var l,s,n;e.preventDefault(),x("");let o=confirm("入力した内容で送信してもよろしいでしょうか？");if(!1===o)return;let t={name:null===(l=c.current)||void 0===l?void 0:l.value,email:null===(s=d.current)||void 0===s?void 0:s.value,message:null===(n=u.current)||void 0===n?void 0:n.value};JSON.stringify(t),await fetch("api/sendmail",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>{200===e.status?(x("メール送信に成功しました"),console.log("メール送信に成功しました"),console.log(e)):(x("メール送信に失敗しました"),console.log("メール送信に失敗しました"),console.log(e))})};return(0,n.jsx)(n.Fragment,{children:s&&t===l?(0,n.jsx)(r(),{contentLabel:"問合せフォーム",isOpen:s,onRequestClose:a,className:"flex items-center justify-center bg-white w-full h-full",children:(0,n.jsxs)("div",{className:"p-6 w-[28rem] bg-blue-100 rounded-xl shadow-lg shadow-slate-500",children:[(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)("h2",{className:"my-3 text-3xl font-semibold text-gray-700",children:"お問合せフォーム"})}),(0,n.jsxs)("form",{onSubmit:e=>f(e),children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("label",{className:"block mb-2 text-sm text-gray-600",htmlFor:"name",children:["■お名前",(0,n.jsx)("span",{className:"text-xs text-red-500",children:"(必須)"})]}),(0,n.jsx)("input",{type:"text",className:"w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300",id:"name",required:!0,ref:c,placeholder:"田中　太郎"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("label",{className:"block mb-2 text-sm text-gray-600",htmlFor:"email",children:["■メールアドレス",(0,n.jsx)("span",{className:"text-xs text-red-500",children:"(必須)"})]}),(0,n.jsx)("input",{type:"email",className:"w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300",id:"email",required:!0,ref:d,placeholder:"john@example.com"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("label",{className:"block mb-2 text-sm text-gray-600",htmlFor:"message",children:["■内容",(0,n.jsx)("span",{className:"text-xs text-red-500",children:"(必須)"})]}),(0,n.jsx)("textarea",{className:"w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300",id:"message",required:!0,ref:u,rows:5,placeholder:"お問い合わせ内容です"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("button",{type:"submit",className:"w-full px-3 py-2 font-bold text-white bg-green-500 rounded-md focus:bg-green-600 focus:outline-none hover:bg-green-400 ",children:"メール送信"}),(0,n.jsx)("button",{className:"w-full mt-3 px-3 py-2 font-bold text-white bg-gray-500 rounded-md focus:bg-gray-600 focus:outline-none hover:bg-gray-400 ",onClick:a,children:"閉じる"}),0===m.length?null:(0,n.jsx)("p",{className:"text-red-400 mt-3",children:m})]})]})]})}):""})};l.default=a},5703:function(){}},function(e){e.O(0,[253,803,774,888,179],function(){return e(e.s=2982)}),_N_E=e.O()}]);