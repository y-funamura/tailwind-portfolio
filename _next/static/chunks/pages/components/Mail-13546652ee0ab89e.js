(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[555],{2982:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/Mail",function(){return l(2343)}])},2343:function(e,s,l){"use strict";l.r(s);var n=l(5893),t=l(7294);l(5703);var o=l(3253),r=l.n(o);let a=e=>{let{modalOpen:s,modalClick:l}=e,o=e=>{e?document.body.style.overflow="hidden":document.body.style.overflow="auto"},a=(0,t.useRef)(null),i=(0,t.useRef)(null),c=(0,t.useRef)(null),[d,u]=(0,t.useState)("");(0,t.useEffect)(()=>{u(""),o(s)},[s]);let m=async e=>{var s,l,n;e.preventDefault(),u("");let t=confirm("入力した内容で送信してもよろしいでしょうか？");if(!1===t)return;let o={name:null===(s=a.current)||void 0===s?void 0:s.value,email:null===(l=i.current)||void 0===l?void 0:l.value,message:null===(n=c.current)||void 0===n?void 0:n.value};JSON.stringify(o),await fetch("api/sendmail",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(o)}).then(e=>{200===e.status?(u("メール送信に成功しました"),console.log("メール送信に成功しました"),console.log(e)):(u("メール送信に失敗しました"),console.log("メール送信に失敗しました"),console.log(e))})};return(0,n.jsx)(r(),{contentLabel:"問合せフォーム",isOpen:s,onRequestClose:l,className:"flex items-center justify-center bg-blue-100  w-full h-full",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsxs)("div",{className:"max-w-md mx-auto my-8 bg-white p-5 rounded-md shadow-sm",children:[(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)("h2",{className:"my-3 text-3xl font-semibold text-gray-700",children:"お問合せフォーム"})}),(0,n.jsx)("div",{className:"m-3",children:(0,n.jsxs)("form",{onSubmit:e=>m(e),children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("label",{className:"block mb-2 text-sm text-gray-600",htmlFor:"name",children:["■お名前",(0,n.jsx)("span",{className:"text-xs text-red-500",children:"(必須)"})]}),(0,n.jsx)("input",{type:"text",className:"w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300",id:"name",required:!0,ref:a,placeholder:"田中　太郎"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("label",{className:"block mb-2 text-sm text-gray-600",htmlFor:"email",children:["■メールアドレス",(0,n.jsx)("span",{className:"text-xs text-red-500",children:"(必須)"})]}),(0,n.jsx)("input",{type:"email",className:"w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300",id:"email",required:!0,ref:i,placeholder:"john@example.com"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("label",{className:"block mb-2 text-sm text-gray-600",htmlFor:"message",children:["■内容",(0,n.jsx)("span",{className:"text-xs text-red-500",children:"(必須)"})]}),(0,n.jsx)("textarea",{className:"w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300",id:"message",required:!0,ref:c,rows:5,placeholder:"お問い合わせ内容です"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("button",{type:"submit",className:"w-full px-3 py-2 font-bold text-white bg-green-500 rounded-md focus:bg-green-600 focus:outline-none",children:"メール送信"}),(0,n.jsx)("button",{className:"w-full mt-3 px-3 py-2 font-bold text-white bg-gray-500 rounded-md focus:bg-gray-600 focus:outline-none",onClick:l,children:"閉じる"}),0===d.length?null:(0,n.jsx)("p",{className:"text-red-400 mt-3",children:d})]})]})})]})})})};s.default=a},5703:function(){}},function(e){e.O(0,[253,803,774,888,179],function(){return e(e.s=2982)}),_N_E=e.O()}]);